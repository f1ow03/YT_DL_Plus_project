<UserControl 
	         x:Class="youtube_downloader_plus.Views.PreferencesView"
	         xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:youtube_downloader_plus.ViewModels"
			 xmlns:localConverters="using:youtube_downloader_plus.Converters"
			 xmlns:views="clr-namespace:youtube_downloader_plus.Views"
             mc:Ignorable="d"
			 d:DesignHeight="400"
             d:DesignWidth="600"
	         x:DataType="vm:PreferencesViewModel"
	         Background="AntiqueWhite">


	<UserControl.Resources>
		<localConverters:EnumToDisplayNameConverter x:Key="enumToDisplayNameConverter" />
	</UserControl.Resources>

	
	<StackPanel>
		<Grid
			   Margin="1"
			   ColumnDefinitions="200,400"
			   RowDefinitions="350, 50"
			   ShowGridLines="False">
			
	<Border Background="Ivory"
			BorderBrush="RosyBrown"
			BorderThickness="2"
			CornerRadius="3"
			Padding="2" 
			Margin="5">		
		<StackPanel
			Grid.Row="0"
			Grid.Column="0"
			Margin="1">
		<ListBox
				Background="Transparent"
				HorizontalAlignment="Stretch"
				ItemsSource="{Binding MenuOptions,
					Converter={StaticResource enumToDisplayNameConverter},
					ConverterParameter=''}"
				SelectionMode="Single"
				SelectedIndex="{Binding SelectedIndex}"
				PropertyChanged="PropertyChanged"/>
		</StackPanel>
</Border>

		<StackPanel
			Grid.Row="0"
			Grid.Column="1"
			Margin="1">
		<ContentControl 
			Grid.Row="2" 
			Margin="10"
			Content="{Binding CurrentViewModel}"/>
		</StackPanel>

		<StackPanel 
			Grid.Row="1"
			Grid.Column="1"
			Margin="1">
				<Grid
				   Margin="1"
				   ColumnDefinitions="270,100"
				   ShowGridLines="False">
					
						<Button
						   Name="OK"
						   HorizontalAlignment="Right"
						   Grid.Column="0"
						   Margin="2"
						   Command="{Binding CloseAndSaveCommand}">
						<TextBlock
							VerticalAlignment="Center"

							Text="OK" />
						</Button>

						<Button
						   Name="Cancel"
						   HorizontalAlignment="Right"
						   Grid.Column="1"
						   Margin="2"
						   Command="{Binding CloseWindowCommand}">
						<TextBlock
							VerticalAlignment="Center"
							Text="Cancel" />
						</Button>

				</Grid>
			
		</StackPanel>

			</Grid>
				
	</StackPanel>
	
</UserControl>
